<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
    

    <script>

      $(document).ready(function(){
        var $body = $('body');
        $("<style>")
          .prop('type', 'text/css')
          .html("\
            .tweetStyle {\
              background-color: silver;\
              border-radius: 10px;\
              height: 75vh;\
              overflow-y: scroll;\
              margin: 5px;\
              padding: 5px;\
            }\
            button{\
              background-color:silver;\
              border-radius:5px;\
              border: 2px solid grey;\
              font-weight: bold;\
              margin: 5px;\
            }\
            .tab{\
              text-indent: 2em;\
            }")
              .appendTo('head');
        //$body.html('');
        
        //title
        var title = $('<h1>Twittler</h1>');
        $body.append(title);

        var tweetDiv = $('<div id="tweets"></div>');
        tweetDiv.appendTo($body);
        $('#tweets').addClass('tweetStyle');

        var getTweets = function(){
          var index = streams.home.length - 1;
          while(index >= 0){  
            var tweet = streams.home.shift();
            var message = ('<p class="tab">'+'@' + tweet.user + ':'+'<br>' + tweet.message + '<br>'+ tweet.created_at + '</p>');
            $('#tweets').prepend(message);
            index -= 1;
          }
          console.log('tweets ', $('ul li').length);
        }

        /*
        var refreshTweets = function(){
          var newTweets = getTweets();
          if()
        }*/
        getTweets();
        var button = $('<button id="getTweets" type="button">Get Tweets</button>');
        $body.append(button);
        $('#getTweets').on('click', getTweets);
        
      });

    </script>
  </body>
</html>
