<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
    

    <script>

      $(document).ready(function(){
        var $body = $('body');
        $("<style>")
          .prop('type', 'text/css')
          .html("\
            .tweetStyle {\
              background-color: silver;\
              border-radius: 10px;\
              height: 75vh;\
              overflow-y: scroll;\
              margin: 5px;}")
              .appendTo('head');
        //$body.html('');
        
        //title
        var title = $('<h1>Twittler</h1>');
        $body.append(title);

        var tweetDiv = $('<div id="tweets"></div>');
        tweetDiv.html('<ul></ul>');
        tweetDiv.appendTo($body);
        $('#tweets').addClass('tweetStyle');

        var getTweets = function(){
          //var elements = [];
          var index = streams.home.length - 1;
          while(index >= 0){  
            var tweet = streams.home.shift();
            var li = $('<li></li>');
            li.text('@' + tweet.user + ': ' + tweet.message + ' ' + tweet.created_at);
            //elements.push(li);
            index -= 1;
            $('ul').prepend(li);
          }
          console.log('tweets ', $('ul li').length);
          
        }
        /*
        var refreshTweets = function(){
          var newTweets = getTweets();
          if()
        }*/
        getTweets();
        var button = $('<button id="getTweets" type="button">Get Tweets</button>');
        $body.append(button);
        $('#getTweets').on('click', getTweets);
        
      });

    </script>
  </body>
</html>
